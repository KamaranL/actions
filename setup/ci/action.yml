name: setup-ci
description: ''
runs:
  using: composite
  steps:
    - run: $GITHUB_ACTION_PATH/pre.sh
      shell: bash
      id: pre
      env:
        ACTION_REPOSITORY: ${{ github.action_repository }}

    - uses: gittools/actions/gitversion/setup@v0.13
      with:
        versionSpec: 5.x

    - uses: gittools/actions/gitversion/execute@v0.13
      with:
        disableCache: true
        # disableNormalization: true
        useConfigFile: true
        configFilePath: ${{ github.action_path }}/GitVersion.yml
        overrideConfig: ${{ steps.pre.outputs.gitversion-execute_overrideConfig }}

    - run: $GITHUB_ACTION_PATH/main.sh
      shell: bash
      id: main
